we generated earnings of $num-one per share, and an roe of num-two% in the third quarter.
also during the quarter, we repurchased over num-one million shares, reducing our share count by over num-two%.
we expect net interest income in the fourth quarter to be impacted by a decrease in ppp-related income from $num-one million in the third quarter to be $num-two million to $num-three million in the fourth quarter.
our models estimate an num-one% increase in annual net interest income in the first year when rates gradually rise num-two basis points.
non-performing assets decreased and remained low at num-one basis points of loans.
a $num-one billion increase in average balances of the fed combined with a num-two basis point increase in the rate paid on these balances added $num-three million and had a num-four basis point negative impact on the margin.
net charge-offs were only $num-one million and included $num-two million in net recoveries from our energy business line.
assuming the economy remains on the current path, we believe the allowance should continue to move toward our pre-pandemic day-one cecl reserve of num-one%.
we are located in seven of the top num-one fastest growing metropolitan areas, including the expansion of our southeast presence earlier this year.
also, criticized loans declined in nearly every business line and are now below num-one% of total loans.
our total reserve ratio remains healthy at num-one%.
industry data shows that auto and dealer inventory levels are at a num-one to num-two day supply versus the typical num-three to num-four days due to challenges resulting from chip shortages, labor constraints and foreign nameplate shipping issues.
putting ppp and dealer side, the average loans and the remainder of our portfolio grew about $num-one million or nearly num-two% over the second quarter, including a num-three% increase in general middle market.
loan yields increased num-one basis points, including num-one basis points from the net impact of ppp loans and num-two basis points from higher non-ppp fees.
ppp loans decreased $num-one billion to end [phonetic] the quarter at $num-two billion as the forgiveness process accelerated.
average deposits increased num-one% or $num-two billion to another all-time high.