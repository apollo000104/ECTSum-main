Last quarter, we updated our full year 2021 revenue guidance to be in a range of $4.5 billion to $4.7 billion.
Revenue in the quarter totaled nearly $1.15 billion, an increase of 30%.
The growth in revenue and lower expense ratios resulted in non-GAAP earnings per share of $1.65, which is up 56% year-on-year, and $4.85 year-to-date, which is up 68%.
For the nine-month period, we generated record revenue of more than $3.4 billion, up 28% over the comparable period in 2020.
Through the first nine months, we're not only on pace to surpass our full year record revenue by more than 20%, but our earnings per share has already eclipsed last year's full year record, as our pre-tax margin is up more than 400 basis points despite the headwinds of a 0-interest rate environment.
However, given the nearly $3 billion increase in our balance sheet since the end of the first quarter, we are revising this forecast to a range of $175 million to $200 million, using the same market and deposit beta assumptions.
In our first quarter earnings call, we estimated that we'd generate an incremental $150 million to $175 million of pre-tax income as a result of a 100-basis point increase in rates.
Our quarterly net revenue totaled $492 million, which was up 36% from the prior year.
In terms of our fourth quarter expectations, we see net interest income in a range of $125 million to $135 million and with a similar NIM to the third quarter, as we expect lower activity levels in some of the more episodic fee income opportunities to -- growth in our balance sheet.
As we forecasted, compensation as a percentage of net revenue declined sequentially to 58.2%.
Absent any assumption for additional share repurchases and assuming a stable stock price, we'd expect the fourth quarter fully diluted share count to be 119.5 million shares.
Fixed income trading revenue of $76 million was down 17% sequentially, as we saw lower activity levels in agencies, corporates and munis, as overall market activity declined a similar amount.
As expected, trading revenue declined to $124 million, while year-to-date trading declined 10%, to $455 million.
Third quarter revenue totaled $656 million, up 24% year-on-year, and year-to-date revenue was approximately $1.9 billion, an increase of 19%.
Taken together, Stifel's quarterly pre-tax income totaled $274 million, which increased 60% from the third quarter of 2020.
nine-month revenue increased 39%, to over $1.5 billion.